<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GABY v22 â€” Cosmic Protocol</title>

<link href="https://fonts.googleapis.com/css2?family=Bungee+Spice&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    background: #050510;
    color: #00f7ff;
    font-family: 'Bungee Spice', cursive;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

#screen {
    text-align: center;
    font-size: 40px;
    max-width: 900px;
    padding: 40px;
    white-space: pre-line;
}

input {
    background: transparent;
    border: none;
    border-bottom: 2px solid #00f7ff;
    color: #00f7ff;
    font-family: inherit;
    font-size: 36px;
    text-align: center;
    outline: none;
}

#confirmBtn {
    margin-top: 40px;
    padding: 15px 40px;
    font-size: 30px;
    font-family: 'Bungee Spice', cursive;
    background: transparent;
    border: 3px solid #00f7ff;
    color: #00f7ff;
    cursor: pointer;
    transition: transform 0.2s ease, background 0.3s ease;
}

#confirmBtn:hover {
    background: #00f7ff;
    color: black;
}

.pop {
    transform: scale(1.2);
}

.flashText {
    animation: flash 0.1s infinite alternate;
}

@keyframes flash {
    from { opacity: 1; }
    to { opacity: 0.2; }
}

.shake {
    animation: shake 0.5s infinite;
}

@keyframes shake {
    0% { transform: translate(0,0); }
    25% { transform: translate(-5px,3px); }
    50% { transform: translate(5px,-3px); }
    75% { transform: translate(-3px,2px); }
    100% { transform: translate(0,0); }
}

#flashOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    opacity: 0;
    pointer-events: none;
    z-index: 999;
    transition: opacity 0.3s ease;
}

canvas#confetti {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
}

.choiceBtn {
    display: block;
    margin: 20px auto;
    padding: 15px 30px;
    font-size: 28px;
    font-family: 'Bungee Spice', cursive;
    background: transparent;
    border: 2px solid #00f7ff;
    color: #00f7ff;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 80%;
    max-width: 600px;
}

.choiceBtn:hover {
    background: #00f7ff;
    color: black;
    transform: scale(1.05);
}

#muteBtn {
    position: fixed;
    top: 20px;
    left: 20px;
    padding: 10px 18px;
    font-size: 20px;
    font-family: 'Bungee Spice', cursive;
    background: transparent;
    border: 2px solid #00f7ff;
    color: #00f7ff;
    cursor: pointer;
    z-index: 1000;
    transition: all 0.3s ease;
}

#muteBtn:hover {
    background: #00f7ff;
    color: black;
}

.glowName {
    font-size: 48px;
    text-shadow:
        0 0 10px #00f7ff,
        0 0 20px #ff00ff,
        0 0 40px #00f7ff;

    animation: glowPulse 2.5s ease-in-out infinite;
}

@keyframes glowPulse {
    0% { text-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff; }
    50% { text-shadow: 0 0 20px #00f7ff, 0 0 40px #00f7ff, 0 0 60px #00f7ff; }
    100% { text-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff; }
}

    
</style>
</head>
<body>

<button id="muteBtn">ðŸ”Š</button>
<div id="flashOverlay"></div>
<canvas id="confetti"></canvas>
<div id="screen"></div>

<audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/10/25/audio_ecba0c58a1.mp3?filename=music_unlimited-stranger-things-124008.mp3" type="audio/mpeg">
</audio>

<audio id="typeSound">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_2c1b0f6e38.mp3?filename=keyboard-typing-108923.mp3" type="audio/mpeg">
</audio>

<script>
const gabyNames = [
    "GABY",
    "GABSTER",
    "GABRIELLA THE SUPREME",
    "COSMIC QUEEN G",
    "GABSIE",
    "GABERONI",
    "GABERALLI",
    "GABEROO",
    "GABERS",
    "GIBI",
    "GIBY GABS",
    "RELA",
    "GOOBS",
    "GUH-BRELA",
    "HOMIE G",
    "GABS THE GREAT",
    "GABS MCGEE",
    "BIG G",
    "GERBS",
    "GERBER",
    "G-G-G-GAAAAAAABY",
    "DJ GABY WITH A G"
];

const screen = document.getElementById("screen");
const flash = document.getElementById("flashOverlay");
const music = document.getElementById("bgMusic");
const typeSound = document.getElementById("typeSound");

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

const muteBtn = document.getElementById("muteBtn");
let isMuted = false;

muteBtn.addEventListener("click", () => {
    isMuted = !isMuted;

    music.muted = isMuted;
    typeSound.muted = isMuted;

    muteBtn.innerText = isMuted ? "ðŸ”‡" : "ðŸ”Š";
});

let birthdayInterval = null;

function startBirthdayLoop() {

    screen.innerHTML = "";

    const line1 = document.createElement("div");
    const line2 = document.createElement("div");
    line2.classList.add("glowName");
    const buttonContainer = document.createElement("div");

    line1.innerText = "HAPPY 22ND BIRTHDAY";
    line1.style.marginBottom = "20px";

    line2.style.minHeight = "60px"; // prevents layout shift
    line2.style.transition = "opacity 0.5s ease";

    screen.appendChild(line1);
    screen.appendChild(line2);
    screen.appendChild(buttonContainer);

    addRestartButton(buttonContainer);

    let index = 0;

    function updateName() {
        line2.style.opacity = 0;

        setTimeout(() => {
            line2.innerText = gabyNames[index];
            line2.style.opacity = 1;
            index = (index + 1) % gabyNames.length;
        }, 300);
    }

    updateName();
    birthdayInterval = setInterval(updateName, 4000);
}

async function typeLine(text, speed = 90, hold = 2000) {
    screen.innerHTML = "";
    for (let char of text) {
        screen.innerHTML += char;
        typeSound.currentTime = 0;
        typeSound.play();
        await sleep(speed);
    }
    await sleep(hold);
    screen.innerHTML = "";
}

function getInput(promptText) {
    return new Promise(resolve => {
        screen.innerHTML = promptText + "\n> ";
        const input = document.createElement("input");
        screen.appendChild(input);
        input.focus();

        input.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                const value = input.value.trim();
                screen.removeChild(input);
                screen.innerHTML += value + "\n";
                resolve(value);
            }
        });
    });
}

/* -------- TRANSMISSION INTRO -------- */

async function initTransmission() {
    await typeLine("Receiving transmission...", 100, 1500);
    await typeLine("Do you accept this transmission?", 100, 1500);

    const button = document.createElement("button");
    button.id = "confirmBtn";
    button.innerText = "CONFIRM";
    screen.appendChild(button);

    button.addEventListener("click", async () => {
        button.classList.add("pop");

        flash.style.opacity = "1";
        await sleep(200);
        flash.style.opacity = "0";
        await sleep(300);

        screen.innerHTML = "";

        music.volume = 0.6;
        music.play();

        startAdventure();
    });
}

/* -------- CHOICE -------- */
    
function getChoice() {
    return new Promise(resolve => {
        screen.innerHTML = "Choose your destiny:";

        const options = [
            { text: "Seek Chaos & Adventure", value: "1" },
            { text: "Claim Wealth & Glory", value: "2" },
            { text: "Unlock Inner Cosmic Power", value: "3" }
        ];

        options.forEach(option => {
            const btn = document.createElement("button");
            btn.className = "choiceBtn";
            btn.innerText = option.text;

            btn.addEventListener("click", () => {
                screen.innerHTML = "";
                resolve(option.value);
            });

            screen.appendChild(btn);
        });
    });
}

/* -------- MAIN ADVENTURE -------- */

async function startAdventure() {

    await typeLine("Initializing Cosmic Intelligence...");
    await typeLine("Scanning quantum signature...");
    await typeLine("Identity confirmed.");
    await typeLine("Gaby.");
    await typeLine("Upgrade detected.");
    await typeLine("Birthday version: 22.");

    screen.innerHTML = "SYSTEM OVERRIDE";
    screen.classList.add("flashText");
    await sleep(2000);
    screen.classList.remove("flashText");
    screen.innerHTML = "";

    await typeLine("Analyzing destiny matrix...");
    await typeLine("Probability streams merging...");

    screen.innerHTML = "The Universe trembles...";
    screen.classList.add("shake");
    await sleep(3000);
    screen.classList.remove("shake");
    screen.innerHTML = "";

    await typeLine("Your birthday has been upgraded...");
    await typeLine("Ultra Mega Awesome Dopeness.");
    await typeLine("You determine your destiny...");
    await typeLine("but destiny demands a choice");

    const choice = await getChoice();

    await typeLine("Processing choice...");

    if (choice === "1") {
        await typeLine("You've Chosen to Seek Chaos & Adventure.");
        await typeLine("Good choice.");
        await typeLine("New achievement unlocked!");
        await typeLine("Badass Girl Boss in her Empire Era");
        await typeLine("You've taken control of the narrative");
        await typeLine("You own the future.");
        await typeLine("You start the trends.");
        await typeLine("You make the world what you want it to be.");
    }
    else if (choice === "2") {
        await typeLine("You've Chosen Claim Wealth & Glory.");
        await typeLine("Glamorous choice.");
        await typeLine("New attribute unlocked...");
        await typeLine("Badass Boss Bitch");
        await typeLine("Opportunities accelerating.");
        await typeLine("Rooms shift when you enter.");
        await typeLine("Momentum building.");
    }
    else {
        await typeLine("Intuition enhanced.");
        await typeLine("Confidence stabilizing.");
        await typeLine("Magnetic presence activated.");
    }

    await typeLine("Core Directive:");
    await typeLine("Main Character Energy.");

    launchConfetti();
    startBirthdayLoop();

}

/* -------- CONFETTI -------- */

const confettiCanvas = document.getElementById("confetti");
const ctx = confettiCanvas.getContext("2d");
confettiCanvas.width = window.innerWidth;
confettiCanvas.height = window.innerHeight;

let pieces = [];

function launchConfetti() {
    for (let i = 0; i < 200; i++) {
        pieces.push({
            x: Math.random() * confettiCanvas.width,
            y: Math.random() * confettiCanvas.height - confettiCanvas.height,
            size: Math.random() * 6 + 4,
            speed: Math.random() * 4 + 2,
            color: `hsl(${Math.random()*360},100%,60%)`
        });
    }
    animateConfetti();
}

function animateConfetti() {
    ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    pieces.forEach(p => {
        ctx.fillStyle = p.color;
        ctx.fillRect(p.x,p.y,p.size,p.size);
        p.y += p.speed;
        if (p.y > confettiCanvas.height) p.y = -10;
    });
    requestAnimationFrame(animateConfetti);
}

/* -------- START -------- */

initTransmission();

/* -------- Optional Start Over -------- */
function addRestartButton(container) {
    const restartBtn = document.createElement("button");
    restartBtn.id = "confirmBtn";
    restartBtn.innerText = "START OVER";

    restartBtn.style.marginTop = "40px";

    restartBtn.addEventListener("click", () => {

        if (birthdayInterval) {
            clearInterval(birthdayInterval);
            birthdayInterval = null;
        }

        pieces = [];
        ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);

        music.currentTime = 0;

        screen.innerHTML = "";

        initTransmission();
    });

    container.appendChild(restartBtn);
}


</script>
</body>
</html>
